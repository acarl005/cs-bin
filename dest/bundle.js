(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"/home/andy/Desktop/production/cs-bin/src/exec.js":[function(require,module,exports){
function render(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];e="object"==typeof e?JSON.stringify(e,null,4):String(e),e=e.replace(/Unexpected end of input/,"Unexpected end of input: probably an extra opening bracket or operator."),r.arrow&&(e="=> "+e),r.error&&(e='<span class="error">'+e+"</span>"),r.lineNum&&(e=e.replace(/!/,"line "+r.lineNum+" - ")),$("#console #output").append("<p>"+e+"</p>");var o=document.getElementById("console");o.scrollTop=o.scrollHeight}function repl(e){e.preventDefault();var code=$(e.target).find("input").val();commandStack.unshift(code),commandStack=commandStack.slice(0,9),commandIndex=-1,wrapLogOutput(function(){if($(e.target).find("input").val(""),code.match(/var/))return render("do var declarations in the editor above",{error:!0});var evalErr,wrappedCode="try{ "+code+"\n } catch(err) { evalErr = err }";try{var output=eval(wrappedCode)}catch(err){evalErr=err}evalErr?render(evalErr.message,{error:!0}):render(output,{arrow:!0})})}function wrapLogOutput(e){console.nativeLog=console.log,console.log=function(){[].forEach.call(arguments,function(e){render(e)}),console.nativeLog.apply(console,arguments)},e(),console.log=console.nativeLog}module.exports=function(hasErrors){function execute(){$("#console #output").empty();var errors=hasErrors(),error=errors[0];if(error)return render(error.node.innerText||$(error.node).text(),{error:!0,lineNum:editor.getLineNumber(error.line)+1});var code=editor.getValue();return wrapLogOutput(function(){eval(code),$("#console form").off("submit"),$("#console form").on("submit",eval("("+String(repl)+")"))}),!0}$(document).ready(function(){$("#console form").on("submit",repl),$("#execute").on("click",execute),$(window).on("keypress",function(e){e.ctrlKey&&e.keyCode&&execute()&&showConsole()}),$("#console form").on("keydown",function(e){if(38===e.keyCode)commandIndex++;else{if(40!==e.keyCode)return"we can ignore this";commandIndex--}commandIndex=Math.min(commandStack.length-1,commandIndex),commandIndex=Math.max(-1,commandIndex),$("#console form input").val(commandStack[commandIndex])})})};var commandStack=[],commandIndex=-1;

},{}],"/home/andy/Desktop/production/cs-bin/src/repl.js":[function(require,module,exports){
function checkForErrors(){return errWidgets}function renderErr(r,e,t){if(!r)throw new Error("Line number for renderErr must be a valid integer.");var o=$('\n    <div class="lint-error">\n      <span class="lint-error-icon">!</span>\n      '+e+"\n    </div>\n  ")[0];errWidgets.push(editor.addLineWidget(r-1,o,{coverGutter:!1,noHScroll:!0}))}function updateErrors(){var code=editor.getValue();errWidgets.forEach(function(r){editor.removeLineWidget(r)}),errWidgets=[];try{var syntax=esprima.parse(code,{tolerant:!1,loc:!0}),evalErr,wrappedCode="try{ "+code+"\n } catch(err) { evalErr = err }";if(eval(wrappedCode),evalErr){var stack=evalErr.stack,errMessage=evalErr.message||stack.match(/.*/)[0],lineNum=evalErr.lineNumber||stack.match(/<anonymous>:(\d+):\d+/)[1];renderErr(lineNum,errMessage)}}catch(err){renderErr(err.lineNumber,err.description,err.column)}}window.onload=function(){window.editor=CodeMirror.fromTextArea(document.getElementById("code-editor"),{lineNumbers:!0,mode:"javascript",matchBrackets:!0,autoCloseBrackets:!0,keyMap:"sublime",tabSize:2,theme:"ttcn"});var r;editor.on("change",function(){clearTimeout(r),r=setTimeout(updateErrors,800)});var e=require("./save");e(editor)};var errWidgets=[];window.replaceEditorText=function(r){editor.replaceRange(r,CodeMirror.Pos(editor.firstLine()-1),CodeMirror.Pos(editor.lastLine()))};var execute=require("./exec");execute(checkForErrors),require("./resize");

},{"./exec":"/home/andy/Desktop/production/cs-bin/src/exec.js","./resize":"/home/andy/Desktop/production/cs-bin/src/resize.js","./save":"/home/andy/Desktop/production/cs-bin/src/save.js"}],"/home/andy/Desktop/production/cs-bin/src/resize.js":[function(require,module,exports){
function pxToNum(e){return+e.slice(0,-2)}var refreshHeights,editorHeight,consoleHeight;$(document).ready(function(e){editorHeight=$("#editor-wrap").css("height"),consoleHeight=$("#console").css("height"),refreshHeights=function(){editorHeight=$("#editor-wrap").css("height"),consoleHeight=$("#console").css("height")},$(".resize").draggable({axis:"y",drag:function(e){var o=e.target.style.top;if(!(pxToNum(o)+pxToNum(editorHeight)>window.innerHeight-50)){var t="+-";"-"===o[0]&&(o=o.slice(1),t="-+"),$("#editor-wrap").css("height","calc("+editorHeight+" "+t[0]+" "+o+")"),$("#console").css("height","calc("+consoleHeight+" "+t[1]+" "+o+")")}},stop:function(e){refreshHeights(),e.target.style.top=0,editor.refresh()}}),hideConsole(),$("#execute").on("click",showConsole),$("#close").on("click",hideConsole)}),window.hideConsole=function(){$("#black-stuff").hide(),$("#editor-wrap").css("height","100vh");try{editor.refresh()}catch(e){}},window.showConsole=function(){"none"===$("#black-stuff").css("display")&&($("#black-stuff").show(),$("#console").css("height","33.5vh"),$("#editor-wrap").css("height","65vh"),refreshHeights(),editor.refresh())};

},{}],"/home/andy/Desktop/production/cs-bin/src/save.js":[function(require,module,exports){
module.exports=function(e){var o=window.location.pathname;$("#save").on("click",function(r){localStorage.setItem(o,e.getValue()),alert("Progress saved.")});var r=localStorage.getItem(o);r&&replaceEditorText(r),$("#clear").on("click",function(e){confirm("Are you sure? This will remove saved progress.")&&(localStorage.removeItem(o),replaceEditorText($("#code-editor").val()))})};

},{}]},{},["/home/andy/Desktop/production/cs-bin/src/repl.js"])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvaG9tZS9hbmR5L0Rlc2t0b3AvcHJvZHVjdGlvbi9jcy1iaW4vc3JjL2V4ZWMuanMiLCIvaG9tZS9hbmR5L0Rlc2t0b3AvcHJvZHVjdGlvbi9jcy1iaW4vc3JjL3JlcGwuanMiLCIvaG9tZS9hbmR5L0Rlc2t0b3AvcHJvZHVjdGlvbi9jcy1iaW4vc3JjL3Jlc2l6ZS5qcyIsIi9ob21lL2FuZHkvRGVza3RvcC9wcm9kdWN0aW9uL2NzLWJpbi9zcmMvc2F2ZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBLEFBc0RBLE1BdERNLENBQUMsQ0FzREUsTUF0REssRUFzREUsQ0F0REMsS0FzREssR0FBTyxFQXRESCxRQXNERyxDQXRETSxFQUFFLEtBc0RSLEdBQUEsU0FBQSxVQUFBLE1BQUcsVUFBQSxFQUU1QixHQURrQixnQkFBVCxHQUNGLEtBQUssVUFBVSxFQUFNLEtBQU0sR0FFM0IsT0FBTyxHQUloQixFQUFPLEVBQUssUUFDViwwQkFDQSwyRUFHRSxFQUFRLFFBQ1YsRUFBSSxNQUFTLEdBQ1gsRUFBUSxRQUNWLEVBQUksdUJBQTBCLEVBQUksV0FDaEMsRUFBUSxVQUNWLEVBQU8sRUFBSyxRQUFRLElBQUcsUUFBVSxFQUFRLFFBQU8sUUFDbEQsRUFBRSxvQkFBb0IsT0FBTSxNQUFPLEVBQUksT0FHdkMsSUFBSSxHQUFhLFNBQVMsZUFBZSxVQUN6QyxHQUFXLFVBQVksRUFBVyxhQUdwQyxRQUFTLE1BQUssR0FDWixFQUFFLGdCQUNGLElBQUksTUFBTyxFQUFFLEVBQUUsUUFBUSxLQUFLLFNBQVMsS0FDckMsY0FBYSxRQUFRLE1BQ3JCLGFBQWUsYUFBYSxNQUFNLEVBQUcsR0FDckMsYUFBZSxHQUNmLGNBQWMsV0FJWixHQUhBLEVBQUUsRUFBRSxRQUFRLEtBQUssU0FBUyxJQUFJLElBRzFCLEtBQUssTUFBTSxPQUFRLE1BQU8s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LFNBQUEsR0FDbEIsUUFBUSxvREFDVixhQUFhLFdBQVcsR0FDeEIsa0JBQWtCLEVBQUUsZ0JBQWdCO0FIUHBDLEFDSEYsQUNIRixVRk1RLEFDSEEsQ0RHQyxDQUFDLEFDSEEsRUNIRSxHQUFHLENBQUMsQ0ZNQyxBRU5BLEVER0UsR0RHRyxFQUFFLEVBQUUsS0VOSyxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FESTdDLEFDSEYsQUNIQSxNQUFJLElBQUksQ0ZNQyxFQUFFLEFFTkEsQ0ZNQyxDQ0hDLEdBQUcsQ0FBQyxBQ0hBLENER0MsQUNIQSxRQUFRLENBQUMsQ0RHQyxDQUFDLENBQUMsR0FBRyxDQUFDLENDSEMsQ0FBQyxNREdNLENBQUMsQ0FBQztBRk10QyxBQ0ZKLEFDSEYsU0RHTyxFQUFFLEtDSEssQ0RHQyxFQ0hFLENGS0MsRUFBRSxDQUFDLFFFTE87QUFDMUIsQUNIRixHRk1DLEFFTkEsQ0ZNQyxBRU5BLENGTUMsRURFRSxJR1JJLENBQUMsQ0hRQyxBR1JBLEVBQUUsQ0RHQyxBQ0hBLENIUUMsQ0FBQyxDQUFDLEFFTEEsQ0FBQyxDQUFDLEVDSEUsRUFBRSxDSFFDLEtBQUssRUFBRSxFQUFFLEFFTEEsQUNIVixDREdXLEFDSFYsQ0RHVyxDQ0hQLEVER1UsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMvQyxBQ0hBLGdCQUFZLENER0MsQUNIQSxHREdHLENBQUMsQ0FBQyxFQ0hFLENBQUMsSUFBSSxFQUFFLENER0MsQ0FBQyxDQUFDLEdBQUcsQUNIQSxDREdDLEFDSEEsUURHUSxBQ0hBLENER0MsQ0FBQyxBQ0hBLENBQUMsQ0FBQztBSFExQyxBQ0ROLEFFTkUsR0RHRCxDQUFBLEVER0csR0VORyxDQUFDLEdGTUcsQ0FBQyxNRENNLEVBQUUsQ0FBQyxJR1BJLENBQUMsQ0FBQTtBRk8xQixHRU5DLENBQUMsQ0FBQyxFSE9FLENDREMsQ0FBQyxFQUFFLENBQUMsQ0RDQyxPQ0RPLEVBQUUsWUFBTTtBREVwQixBQ0RKLEFDSEYsR0FBQyxDQUFDLFNBQVMsQ0FBQyxDRklDLEFFSkEsQ0RHQyxDQUFDLE9BQU8sQUNIQSxDREdDLEFDSEEsQ0RHQyxTRENTLENBQUM7QUNBaEMsQUNIQSxBQ0hGLE1BQUksQ0hPQyxDRUpDLEVBQUUsQ0RHQyxBRU5BLEVER0UsQ0RHQyxBRU5BLFVGTVUsQ0FBQyxDRU5DLENBQUMsT0FBTyxDQUFDLEVGTUUsRUFBRSxBRU5BLENBQUMsQ0FBQyxDRk1DLENBQUMsQ0FBQztBRUwxQyxHRk1DLENBQUMsQ0FBQyxDRU5DLEtBQUssRUFBRTtBSFFQLEFFSkYsQUNIQSxRREdJLEVBQUUsUUZJUSxHQUFHLEFHUEEsQ0FBQyxFREdaLENGSWUsQUVKZCxDRkllLENFSlgsQUNIWSxDQUFDLENIT0MsQUdQQSxDSE9DLFlBQVksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQy9ELEFDREosQUNISSxHQ0hILEdGTUcsSUFBSSxBQ0hBLEdER0csR0NIRyxFRklFLENFSkMsQ0RHQyxBQ0hBLENGSUMsQUNEQSxBQ0hBLElGSUksQ0FBQyxDRUpDLENBQUMsQ0ZJQyxBQ0RBLENEQ0MsQUNEQSxDRENDLEFDREEsQ0RDQyxDRUpDLENGSUMsQUVKQSxHQUFHLENBQUMsUUZJUSxDQUFDLENBQUM7QUFDMUMsQUNESixNQUFJLENEQ0MsQUNEQSxDRENDLEtDREssQ0FBQyxDQUFDLGNEQ2MsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztBR043RCxDRk9ELENBQUMsQ0VQQyxDQUFDLENIT0MsQ0FBQyxDQUFDLEtHUEssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsVUFBQSxDQUFDLEVBQUk7QURJekIsQUNIRixHSE9ELENBQUMsQ0FBQyxHR1BHLEVESUEsS0NKTyxDQUFDLENESUQsQ0FBQyxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQ3ZDLE1BQU0sQ0FBQyxLQ0xpRCxDQUFDLEVBQUUsR0RLekMsR0FBRyxFQUFFLEVBQ3ZCLE9BQU87QURFZixBRVBNLElGT0YsVUFBVSxHQUFHLENFUEMsQ0ZPQyxBRVBBLENGT0MsU0VQUyxDQUFDLElBQUksQ0FBQyxDQUFDO0FIUWxDLEFFREksQUNOQSxVRE1JLENGQ0MsR0VERyxHQUFHLENGQ0MsR0FBRyxBRURBLENBQUMsQ0NOQyxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0FIUTdDLEFDQUosQUNETSxLRkNELEFHUEEsQ0hPQyxHQ0FHLENDREMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJRENJLENEQUMsQUVEQSxDRkNDLENBQUMsQUNBQSxDQ0RDLEVBQUUsRUZDRSxFQUFFLENBQUM7QUFDOUIsQUNBRixBQ0RNLEdDTkwsQ0FBQyxDQUFDLEdIT0csQ0NBQyxLREFLLEFFREEsR0ZDRyxBRURBLEVEQ0UsQ0FBQyxHQ0RHLENBQUMsRUZDRSxFQUFFLENBQUMsQUVEQSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FGRTdCLEFFREksQ0RDUCxBRU5BLENBQUEsTUhNTyxJRURJLENGQ0MsRUVERSxDRkNDLEdFREcsQ0FBQyxFRkNFLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDdEIsT0VERyxDRkNDLEtBQUssRUFBQztBQUNSLEFDQU4sQUNETSxPQUFDLENBQUMsQ0RDQyxJREFJLEtDQUssQ0RBQyxBQ0FBLENEQ1gsRUVGYyxDQUFDLENBQUMsQ0ZFWCxDQUFDLEFDRFksQ0NEQyxDRENDLEFDREEsRUZFVixDQUFDLENDRGEsRUFBRSxFQ0RFLElGRVIsQUNEWSxFQUFFLEVEQ1YsQ0FBQyxDQUFDLEVFRlksR0ZFUCxDQUFDLElBQUksQ0FBQyxDQUFDLEVFRlksRUZFUixFQUFFLEtFRlUsSUFBSSxDQUFDLENBQUMsQ0FBQyxTQUFJLE1BQU0sT0FBSSxDQUFDO0FGRzVFLEFDRE4sQUNESSxNRENBLENBQUMsQUNEQSxDRkVHLEFFRkYsS0ZFTyxDQ0RELENEQ0csQ0NERCxFQ0RFLENGRUcsQUVGRixDQUFDLENGRUcsQ0NERCxDQ0RDLENBQUMsRURDRSxFRENJLEVBQUUsQ0NERCxDQUFDLEFDREEsSUZFTSxDQUFDLE9FRkcsTUZFVSxDQUFDLEtB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QUFBLElBQUksRUFBSTtBQUNqQyxZQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDZCxDQUFDLENBQUM7QUFDSCxXQUFPLENBQUMsU0FBUyxNQUFBLENBQWpCLE9BQU8sRUFBYyxTQUFTLENBQUMsQ0FBQztHQUNqQyxDQUFBO0FBQ0QsTUFBSSxFQUFFLENBQUM7QUFDUCxTQUFPLENBQUMsR0FBRyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUM7Q0FDakMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihoYXNFcnJvcnMpIHtcbiAgJChkb2N1bWVudCkucmVhZHkoKCkgPT4ge1xuXG4gICAgJCgnI2NvbnNvbGUgZm9ybScpLm9uKCdzdWJtaXQnLCByZXBsKTtcbiAgICAkKCcjZXhlY3V0ZScpLm9uKCdjbGljaycsIGV4ZWN1dGUpO1xuICAgICQod2luZG93KS5vbigna2V5cHJlc3MnLCBlID0+IHtcbiAgICAgIGUuY3RybEtleSAmJiBlLmtleUNvZGUgJiYgZXhlY3V0ZSgpICYmIHNob3dDb25zb2xlKCk7ICAgLy9leGVjdXRlIGlmIHRoZXkgcHJlc3MgY3RybCtiIGluIGNocm9tZVxuICAgIH0pO1xuXG4gICAgJCgnI2NvbnNvbGUgZm9ybScpLm9uKCdrZXlkb3duJywgZSA9PiB7XG4gICAgICBpZiAoZS5rZXlDb2RlID09PSAzOCkgeyAgLy91cCBhcnJvdyBrZXlcbiAgICAgICAgY29tbWFuZEluZGV4Kys7XG4gICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gNDApIHsgIC8vZG93biBhcnJvdyBrZXlcbiAgICAgICAgY29tbWFuZEluZGV4LS07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ3dlIGNhbiBpZ25vcmUgdGhpcyc7XG4gICAgICB9XG4gICAgICAvLyBtYWtlIHN1cmUgY29tbWFuZEluZGV4IHN0YXlzIGluIHJlYXNvbmFibGUgcmFuZ2VcbiAgICAgIGNvbW1hbmRJbmRleCA9IE1hdGgubWluKGNvbW1hbmRTdGFjay5sZW5ndGggLSAxLCBjb21tYW5kSW5kZXgpO1xuICAgICAgY29tbWFuZEluZGV4ID0gTWF0aC5tYXgoLTEsIGNvbW1hbmRJbmRleCk7XG4gICAgICAkKCcjY29uc29sZSBmb3JtIGlucHV0JykudmFsKGNvbW1hbmRTdGFja1tjb21tYW5kSW5kZXhdKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZXhlY3V0ZSgpIHtcbiAgICAkKCcjY29uc29sZSAjb3V0cHV0JykuZW1wdHkoKTtcbiAgICB2YXIgZXJyb3JzID0gaGFzRXJyb3JzKCk7XG4gICAgdmFyIGVycm9yID0gZXJyb3JzWzBdO1xuICAgIGlmIChlcnJvcil7XG4gICAgICByZXR1cm4gcmVuZGVyKFxuICAgICAgICBlcnJvci5ub2RlLmlubmVyVGV4dCB8fCAkKGVycm9yLm5vZGUpLnRleHQoKSwgICAgLy8gY2hyb21lIHx8IGZpcmVmb3hcbiAgICAgICAgeyBlcnJvcjogdHJ1ZSwgbGluZU51bTogZWRpdG9yLmdldExpbmVOdW1iZXIoZXJyb3IubGluZSkgKyAxIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgdmFyIGNvZGUgPSBlZGl0b3IuZ2V0VmFsdWUoKTtcblxuICAgIHdyYXBMb2dPdXRwdXQoKCkgPT4ge1xuXG4gICAgICBldmFsKGNvZGUpO1xuXG4gICAgICAkKCcjY29uc29sZSBmb3JtJykub2ZmKCdzdWJtaXQnKTtcbiAgICAgICQoJyNjb25zb2xlIGZvcm0nKS5vbignc3VibWl0JywgZXZhbCgnKCcrU3RyaW5nKHJlcGwpKycpJykpO1xuICAgICAgLy8gdGhpcyBldmFsL1N0cmluZyB0aGluZyBpcyBwcmV0dHkgd2VpcmQgcmlnaHQ/IEl0J3MgYmFzaWNhbGx5IGEgaGFjayB0aGF0IFJvYiBhbmQgSSBkZXZpc2VkIHRvIFwiY2xvbmVcIiBhIGZ1bmN0aW9uLiBJdCB0YWtlcyBhIGZ1bmMsIGNvbnZlcnRzIHRvIGEgc3RyaW5nLCB0aGVuIHJlZGVmaW5lcyBpdCBpbiBhbiBldmFsLiBUaGlzIGVmZmVjdGl2ZWx5IGFjaGlldmVzIGR5bmFtaWMgc2NvcGluZy4gQnkgcmVkZWZpbmluZyBpdCBpbiB0aGlzIHNjb3BlLCBJIGNhbiBhY2Nlc3MgdGhlIGxvY2FsIHZhcmlhYmxlcyBoZXJlIGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgbGV4aWNhbCBzY29waW5nIGJlaGF2aW9yLiBUaGUgcmVhc29uIEkgd2FudCB0aGlzIGlzIHNvIHRoZSByZXBsIGhhcyBhY2Nlc3MgdG8gdGhlIHZhcmlhYmxlcyBkZWZpbmVkIGluIHRoZSBDb2RlTWlycm9yIGVkaXRvci5cblxuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbi8vIGFsbG93IHVzZXIgdG8gYWNjZXNzIHByZXZpb3VzbHkgZW50ZXJlZCBjb21tYW5kc1xudmFyIGNvbW1hbmRTdGFjayA9IFtdO1xudmFyIGNvbW1hbmRJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiByZW5kZXIodGV4dCwgb3B0aW9ucz17fSkge1xuICBpZiAodHlwZW9mIHRleHQgPT09ICdvYmplY3QnKSB7XG4gICAgdGV4dCA9IEpTT04uc3RyaW5naWZ5KHRleHQsIG51bGwsIDQpO1xuICB9IGVsc2Uge1xuICAgIHRleHQgPSBTdHJpbmcodGV4dCk7XG4gIH1cblxuICAvLyBUaGlzIHBhcnRpY3VsYXIgZXJyIG1lc3NhZ2UgaXMgcG9vci4gTWFrZSBpdCBhIGJpdCBtb3JlIGhlbHBmdWxcbiAgdGV4dCA9IHRleHQucmVwbGFjZShcbiAgICAvVW5leHBlY3RlZCBlbmQgb2YgaW5wdXQvLCBcbiAgICAnVW5leHBlY3RlZCBlbmQgb2YgaW5wdXQ6IHByb2JhYmx5IGFuIGV4dHJhIG9wZW5pbmcgYnJhY2tldCBvciBvcGVyYXRvci4nXG4gICk7XG5cbiAgaWYgKG9wdGlvbnMuYXJyb3cpXG4gICAgdGV4dCA9IGA9PiAke3RleHR9YDtcbiAgaWYgKG9wdGlvbnMuZXJyb3IpXG4gICAgdGV4dCA9IGA8c3BhbiBjbGFzcz1cImVycm9yXCI+JHt0ZXh0fTwvc3Bhbj5gO1xuICBpZiAob3B0aW9ucy5saW5lTnVtKVxuICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoLyEvLCBgbGluZSAke29wdGlvbnMubGluZU51bX0gLSBgKTtcbiAgJCgnI2NvbnNvbGUgI291dHB1dCcpLmFwcGVuZChgPHA+JHt0ZXh0fTwvcD5gKTtcblxuICAvLyBzY3JvbGwgdG8gYm90dG9tIGluIG9yZGVyIHRvIHNob3cgbW9zdCByZWNlbnRcbiAgdmFyIGNvbnNvbGVET00gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uc29sZScpO1xuICBjb25zb2xlRE9NLnNjcm9sbFRvcCA9IGNvbnNvbGVET00uc2Nyb2xsSGVpZ2h0O1xufVxuXG5mdW5jdGlvbiByZXBsKGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB2YXIgY29kZSA9ICQoZS50YXJnZXQpLmZpbmQoJ2lucHV0JykudmFsKCk7XG4gIGNvbW1hbmRTdGFjay51bnNoaWZ0KGNvZGUpO1xuICBjb21tYW5kU3RhY2sgPSBjb21tYW5kU3RhY2suc2xpY2UoMCwgOSk7XG4gIGNvbW1hbmRJbmRleCA9IC0xO1xuICB3cmFwTG9nT3V0cHV0KCgpID0+IHtcbiAgICAkKGUudGFyZ2V0KS5maW5kKCdpbnB1dCcpLnZhbCgnJyk7XG5cbiAgICAvL3ZhciBkZWNsYXJhdGlvbnMgZG9uJ3Qgd29yayBpbiB0aGUgUkVQTCwgc28gZ2l2ZSB0aGVtIGFuIGVycm9yXG4gICAgaWYgKGNvZGUubWF0Y2goL3Zhci8pKSByZXR1cm4gcmVuZGVyKCdkbyB2YXIgZGVjbGFyYXRpb25zIGluIHRoZSBlZGl0b3IgYWJvdmUnLCB7IGVycm9yOiB0cnVlIH0pO1xuXG4gICAgdmFyIGV2YWxFcnI7XG4gICAgdmFyIHdyYXBwZWRDb2RlID0gYHRyeXsgJHtjb2RlfVxcbiB9IGNhdGNoKGVycikgeyBldmFsRXJyID0gZXJyIH1gO1xuICAgIHRyeSB7XG4gICAgICB2YXIgb3V0cHV0ID0gZXZhbCh3cmFwcGVkQ29kZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBldmFsRXJyID0gZXJyO1xuICAgIH1cbiAgICBpZiAoZXZhbEVycikge1xuICAgICAgcmVuZGVyKGV2YWxFcnIubWVzc2FnZSwgeyBlcnJvcjogdHJ1ZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVuZGVyKG91dHB1dCwgeyBhcnJvdzogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBleGVjdXRlcyBhIGZ1bmN0aW9uIGluIGEgY29udGV4dCB3aGVyZSBhbGwgY2FsbHMgdG8gY29uc29sZS5sb2cgd2lsbCByZW5kZXIgdG8gdGhlIERPTVxuZnVuY3Rpb24gd3JhcExvZ091dHB1dChmdW5jKSB7XG4gIGNvbnNvbGUubmF0aXZlTG9nID0gY29uc29sZS5sb2c7XG4gIGNvbnNvbGUubG9nID0gZnVuY3Rpb24oKSB7XG4gICAgW10uZm9yRWFjaC5jYWxsKGFyZ3VtZW50cywgbGluZSA9PiB7XG4gICAgICByZW5kZXIobGluZSk7XG4gICAgfSk7XG4gICAgY29uc29sZS5uYXRpdmVMb2coLi4uYXJndW1lbnRzKTtcbiAgfVxuICBmdW5jKCk7XG4gIGNvbnNvbGUubG9nID0gY29uc29sZS5uYXRpdmVMb2c7XG59XG5cblxuXG5cbiIsIndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblxuICB3aW5kb3cuZWRpdG9yID0gQ29kZU1pcnJvci5mcm9tVGV4dEFyZWEoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb2RlLWVkaXRvclwiKSwge1xuICAgIGxpbmVOdW1iZXJzOiB0cnVlLFxuICAgIG1vZGU6IFwiamF2YXNjcmlwdFwiLFxuICAgIG1hdGNoQnJhY2tldHM6IHRydWUsXG4gICAgYXV0b0Nsb3NlQnJhY2tldHM6IHRydWUsXG4gICAga2V5TWFwOiAnc3VibGltZScsXG4gICAgdGFiU2l6ZTogMixcbiAgICB0aGVtZTogJ3R0Y24nXG4gIH0pO1xuXG4gIHZhciB3YWl0aW5nO1xuICBlZGl0b3Iub24oXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgIGNsZWFyVGltZW91dCh3YWl0aW5nKTtcbiAgICB3YWl0aW5nID0gc2V0VGltZW91dCh1cGRhdGVFcnJvcnMsIDgwMCk7XG4gIH0pO1xuXG4gIHZhciBzYXZlID0gcmVxdWlyZSgnLi9zYXZlJyk7XG4gIHNhdmUoZWRpdG9yKTtcblxufTtcblxudmFyIGVycldpZGdldHMgPSBbXTtcblxuZnVuY3Rpb24gY2hlY2tGb3JFcnJvcnMoKSB7XG4gIHJldHVybiBlcnJXaWRnZXRzO1xufVxuXG5mdW5jdGlvbiByZW5kZXJFcnIobGluZU51bSwgZGVzYywgY29sTnVtKSB7XG4gIGlmICghbGluZU51bSkgdGhyb3cgbmV3IEVycm9yKCdMaW5lIG51bWJlciBmb3IgcmVuZGVyRXJyIG11c3QgYmUgYSB2YWxpZCBpbnRlZ2VyLicpO1xuICB2YXIgbXNnID0gJChgXG4gICAgPGRpdiBjbGFzcz1cImxpbnQtZXJyb3JcIj5cbiAgICAgIDxzcGFuIGNsYXNzPVwibGludC1lcnJvci1pY29uXCI+ITwvc3Bhbj5cbiAgICAgICR7ZGVzY31cbiAgICA8L2Rpdj5cbiAgYClbMF07XG4gIGVycldpZGdldHMucHVzaChcbiAgICBlZGl0b3IuYWRkTGluZVdpZGdldChsaW5lTnVtIC0gMSwgbXNnLCB7IGNvdmVyR3V0dGVyOiBmYWxzZSwgbm9IU2Nyb2xsOiB0cnVlIH0pXG4gICk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUVycm9ycygpIHtcbiAgdmFyIGNvZGUgPSBlZGl0b3IuZ2V0VmFsdWUoKTtcblxuICBlcnJXaWRnZXRzLmZvckVhY2goZXJyID0+IHtcbiAgICBlZGl0b3IucmVtb3ZlTGluZVdpZGdldChlcnIpO1xuICB9KTtcbiAgZXJyV2lkZ2V0cyA9IFtdO1xuXG4gIHRyeSB7XG4gICAgdmFyIHN5bnRheCA9IGVzcHJpbWEucGFyc2UoY29kZSwgeyB0b2xlcmFudDogZmFsc2UsIGxvYzogdHJ1ZSB9KTtcbiAgICB2YXIgZXZhbEVycjtcbiAgICB2YXIgd3JhcHBlZENvZGUgPSBgdHJ5eyAke2NvZGV9XFxuIH0gY2F0Y2goZXJyKSB7IGV2YWxFcnIgPSBlcnIgfWA7XG5cbiAgICBldmFsKHdyYXBwZWRDb2RlKTtcbiAgICBpZiAoZXZhbEVycikge1xuICAgICAgdmFyIHN0YWNrID0gZXZhbEVyci5zdGFjaztcbiAgICAgIHZhciBlcnJNZXNzYWdlID0gZXZhbEVyci5tZXNzYWdlIHx8IHN0YWNrLm1hdGNoKC8uKi8pWzBdOyAgICAgLy8gZmlyZWZveCB8fCBjaHJvbWVcbiAgICAgIHZhciBsaW5lTnVtID0gZXZhbEVyci5saW5lTnVtYmVyIHx8IHN0YWNrLm1hdGNoKC88YW5vbnltb3VzPjooXFxkKyk6XFxkKy8pWzFdO1xuICAgICAgLy8gdmFyIGNvbE51bSA9IGV2YWxFcnIuY29sdW1uTnVtYmVyIHx8IHN0YWNrLm1hdGNoKC88YW5vbnltb3VzPjpcXGQrOihcXGQrKS8pWzBdO1xuICAgICAgcmVuZGVyRXJyKGxpbmVOdW0sIGVyck1lc3NhZ2UpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmVuZGVyRXJyKGVyci5saW5lTnVtYmVyLCBlcnIuZGVzY3JpcHRpb24sIGVyci5jb2x1bW4pO1xuICB9XG5cbn1cblxud2luZG93LnJlcGxhY2VFZGl0b3JUZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICBlZGl0b3IucmVwbGFjZVJhbmdlKFxuICAgIHRleHQsXG4gICAgQ29kZU1pcnJvci5Qb3MoZWRpdG9yLmZpcnN0TGluZSgpLTEpLFxuICAgIENvZGVNaXJyb3IuUG9zKGVkaXRvci5sYXN0TGluZSgpKVxuICApO1xufVxuXG52YXIgZXhlY3V0ZSA9IHJlcXVpcmUoJy4vZXhlYycpO1xuZXhlY3V0ZShjaGVja0ZvckVycm9ycyk7XG5yZXF1aXJlKCcuL3Jlc2l6ZScpOyIsInZhciByZWZyZXNoSGVpZ2h0cywgZWRpdG9ySGVpZ2h0LCBjb25zb2xlSGVpZ2h0O1xuXG4kKGRvY3VtZW50KS5yZWFkeShlID0+IHtcblxuICBlZGl0b3JIZWlnaHQgPSAkKCcjZWRpdG9yLXdyYXAnKS5jc3MoJ2hlaWdodCcpO1xuICBjb25zb2xlSGVpZ2h0ID0gJCgnI2NvbnNvbGUnKS5jc3MoJ2hlaWdodCcpO1xuICByZWZyZXNoSGVpZ2h0cyA9IGZ1bmN0aW9uKCkge1xuICAgIGVkaXRvckhlaWdodCA9ICQoJyNlZGl0b3Itd3JhcCcpLmNzcygnaGVpZ2h0Jyk7XG4gICAgY29uc29sZUhlaWdodCA9ICQoJyNjb25zb2xlJykuY3NzKCdoZWlnaHQnKTsgICAgXG4gIH1cblxuICAkKCcucmVzaXplJykuZHJhZ2dhYmxlKHtcbiAgICBheGlzOiAneScsXG4gICAgXG4gICAgZHJhZzogZSA9PiB7XG4gICAgICB2YXIgY2hhbmdlID0gZS50YXJnZXQuc3R5bGUudG9wO1xuXG4gICAgICAvLyBwcmV2ZW50IHRoZW0gZnJvbSByZXNpemluZyBiZWxvdyB0aGUgYm90dG9tIG9mIHRoZSBwYWdlXG4gICAgICBpZiAoXG4gICAgICAgIHB4VG9OdW0oY2hhbmdlKSArIHB4VG9OdW0oZWRpdG9ySGVpZ2h0KSA+IFxuICAgICAgICB3aW5kb3cuaW5uZXJIZWlnaHQgLSA1MFxuICAgICAgKSByZXR1cm47XG5cbiAgICAgIHZhciBvcGVyID0gJystJztcbiAgICAgIGlmIChjaGFuZ2VbMF0gPT09ICctJykge1xuICAgICAgICBjaGFuZ2UgPSBjaGFuZ2Uuc2xpY2UoMSk7XG4gICAgICAgIG9wZXIgPSAnLSsnO1xuICAgICAgfVxuICAgICAgJCgnI2VkaXRvci13cmFwJykuY3NzKCdoZWlnaHQnLCBgY2FsYygke2VkaXRvckhlaWdodH0gJHtvcGVyWzBdfSAke2NoYW5nZX0pYCk7XG4gICAgICAkKCcjY29uc29sZScpLmNzcygnaGVpZ2h0JywgYGNhbGMoJHtjb25zb2xlSGVpZ2h0fSAke29wZXJbMV19ICR7Y2hhbmdlfSlgKTtcbiAgICB9LFxuXG4gICAgc3RvcDogZSA9PiB7XG4gICAgICByZWZyZXNoSGVpZ2h0cygpO1xuICAgICAgZS50YXJnZXQuc3R5bGUudG9wID0gMDtcbiAgICAgIGVkaXRvci5yZWZyZXNoKCk7XG4gICAgfVxuICB9KTtcblxuICBoaWRlQ29uc29sZSgpO1xuICAkKCcjZXhlY3V0ZScpLm9uKCdjbGljaycsIHNob3dDb25zb2xlKTtcbiAgJCgnI2Nsb3NlJykub24oJ2NsaWNrJywgaGlkZUNvbnNvbGUpO1xuXG59KTtcblxuZnVuY3Rpb24gcHhUb051bShzdHIpIHtcbiAgcmV0dXJuICtzdHIuc2xpY2UoMCwgLTIpO1xufVxuXG53aW5kb3cuaGlkZUNvbnNvbGUgPSBmdW5jdGlvbigpIHtcbiAgJCgnI2JsYWNrLXN0dWZmJykuaGlkZSgpO1xuICAkKCcjZWRpdG9yLXdyYXAnKS5jc3MoJ2hlaWdodCcsICcxMDB2aCcpO1xuICB0cnkgeyBlZGl0b3IucmVmcmVzaCgpOyB9IGNhdGNoKGVycikge31cbn1cblxud2luZG93LnNob3dDb25zb2xlID0gZnVuY3Rpb24oKSB7XG4gIGlmICgkKCcjYmxhY2stc3R1ZmYnKS5jc3MoJ2Rpc3BsYXknKSAhPT0gJ25vbmUnKSByZXR1cm47XG4gICQoJyNibGFjay1zdHVmZicpLnNob3coKVxuICAkKCcjY29uc29sZScpLmNzcygnaGVpZ2h0JywgJzMzLjV2aCcpO1xuICAkKCcjZWRpdG9yLXdyYXAnKS5jc3MoJ2hlaWdodCcsICc2NXZoJyk7XG4gIHJlZnJlc2hIZWlnaHRzKCk7XG4gIGVkaXRvci5yZWZyZXNoKCk7XG59IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihlZGl0b3IpIHtcblxuICB2YXIgcGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcblxuICAkKCcjc2F2ZScpLm9uKCdjbGljaycsIGUgPT4ge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHBhdGgsIGVkaXRvci5nZXRWYWx1ZSgpKTtcbiAgICBhbGVydCgnUHJvZ3Jlc3Mgc2F2ZWQuJylcbiAgfSk7XG5cbiAgdmFyIHNhdmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0ocGF0aCk7XG4gIGlmIChzYXZlZCkge1xuICAgIHJlcGxhY2VFZGl0b3JUZXh0KHNhdmVkKTtcbiAgfVxuXG4gICQoJyNjbGVhcicpLm9uKCdjbGljaycsIGUgPT4ge1xuICAgIGlmIChjb25maXJtKCdBcmUgeW91IHN1cmU/IFRoaXMgd2lsbCByZW1vdmUgc2F2ZWQgcHJvZ3Jlc3MuJykpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHBhdGgpO1xuICAgICAgcmVwbGFjZUVkaXRvclRleHQoJCgnI2NvZGUtZWRpdG9yJykudmFsKCkpO1xuICAgIH1cbiAgfSk7XG5cbn0iXX0=
