(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"/home/andy/Desktop/production/cs-bin/src/exec.js":[function(require,module,exports){
function render(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];e="object"==typeof e?JSON.stringify(e,null,4):String(e),e=e.replace(/Unexpected end of input/,"Unexpected end of input: probably an extra opening bracket or operator."),o.arrow&&(e="=> "+e),o.error&&(e='<span class="error">'+e+"</span>"),o.lineNum&&(e=e.replace(/!/,"line "+o.lineNum+" - ")),$("#console #output").append("<p>"+e+"</p>");var r=document.getElementById("console");r.scrollTop=r.scrollHeight}function repl(e){e.preventDefault();var code=$(e.target).find("input").val();commandStack.unshift(code),commandStack=commandStack.slice(0,9),commandIndex=-1,wrapLogOutput(function(){if($(e.target).find("input").val(""),code.match(/var/))return render("do var declarations in the editor above",{error:!0});var evalErr,wrappedCode="try{ "+code+"\n } catch(err) { evalErr = err }";try{var output=eval(wrappedCode)}catch(err){evalErr=err}evalErr?render(evalErr.message,{error:!0}):render(output,{arrow:!0})})}function wrapLogOutput(e){console.nativeLog=console.log,console.log=function(){[].forEach.call(arguments,function(e){render(e)}),console.nativeLog.apply(console,arguments)},e(),console.log=console.nativeLog}module.exports=function(hasErrors){function execute(){$("#console #output").empty();var errors=hasErrors(),error=errors[0];if(error)return render(error.node.innerText||$(error.node).text(),{error:!0,lineNum:editor.getLineNumber(error.line)+1});var code=editor.getValue();return wrapLogOutput(function(){eval(code),$("#console form").off("submit"),$("#console form").on("submit",eval("("+String(repl)+")"))}),!0}$(document).ready(function(){$("#console form").on("submit",repl),$("#console").on("click",function(e){$("input").focus()}),$("#execute").on("click",execute),$(window).on("keypress",function(e){e.ctrlKey&&e.keyCode&&execute()&&showConsole()}),$("#console form").on("keydown",function(e){if(38===e.keyCode)commandIndex++;else{if(40!==e.keyCode)return"we can ignore this";commandIndex--}commandIndex=Math.min(commandStack.length-1,commandIndex),commandIndex=Math.max(-1,commandIndex),$("#console form input").val(commandStack[commandIndex])})})};var commandStack=[],commandIndex=-1;

},{}],"/home/andy/Desktop/production/cs-bin/src/repl.js":[function(require,module,exports){
function checkForErrors(){return errWidgets}function renderErr(r,e,t){if(!r)throw new Error("Line number for renderErr must be a valid integer.");var o=$('\n    <div class="lint-error">\n      <span class="lint-error-icon">!</span>\n      '+e+"\n    </div>\n  ")[0];errWidgets.push(editor.addLineWidget(r-1,o,{coverGutter:!1,noHScroll:!0}))}function updateErrors(){var code=editor.getValue();errWidgets.forEach(function(r){editor.removeLineWidget(r)}),errWidgets=[];try{var syntax=esprima.parse(code,{tolerant:!1,loc:!0}),evalErr,wrappedCode="try{ "+code+"\n } catch(err) { evalErr = err }";if(eval(wrappedCode),evalErr){var stack=evalErr.stack,errMessage=evalErr.message||stack.match(/.*/)[0],lineNum=evalErr.lineNumber||stack.match(/<anonymous>:(\d+):\d+/)[1];renderErr(lineNum,errMessage)}}catch(err){renderErr(err.lineNumber,err.description,err.column)}}window.onload=function(){window.editor=CodeMirror.fromTextArea(document.getElementById("code-editor"),{lineNumbers:!0,mode:"javascript",matchBrackets:!0,autoCloseBrackets:!0,keyMap:"sublime",tabSize:2,theme:"ttcn"});var r;editor.on("change",function(){clearTimeout(r),r=setTimeout(updateErrors,800)});var e=require("./save");e(editor)};var errWidgets=[];window.replaceEditorText=function(r){editor.replaceRange(r,CodeMirror.Pos(editor.firstLine()-1),CodeMirror.Pos(editor.lastLine()))};var execute=require("./exec");execute(checkForErrors),require("./resize");

},{"./exec":"/home/andy/Desktop/production/cs-bin/src/exec.js","./resize":"/home/andy/Desktop/production/cs-bin/src/resize.js","./save":"/home/andy/Desktop/production/cs-bin/src/save.js"}],"/home/andy/Desktop/production/cs-bin/src/resize.js":[function(require,module,exports){
function pxToNum(e){return+e.slice(0,-2)}var refreshHeights,editorHeight,consoleHeight;$(document).ready(function(e){editorHeight=$("#editor-wrap").css("height"),consoleHeight=$("#console").css("height"),refreshHeights=function(){editorHeight=$("#editor-wrap").css("height"),consoleHeight=$("#console").css("height")},$(".resize").draggable({axis:"y",drag:function(e){var o=e.target.style.top;if(!(pxToNum(o)+pxToNum(editorHeight)>window.innerHeight-50)){var t="+-";"-"===o[0]&&(o=o.slice(1),t="-+"),$("#editor-wrap").css("height","calc("+editorHeight+" "+t[0]+" "+o+")"),$("#console").css("height","calc("+consoleHeight+" "+t[1]+" "+o+")")}},stop:function(e){refreshHeights(),e.target.style.top=0,editor.refresh()}}),hideConsole(),$("#execute").on("click",showConsole),$("#close").on("click",hideConsole)}),window.hideConsole=function(){$("#black-stuff").hide(),$("#editor-wrap").css("height","100vh");try{editor.refresh()}catch(e){}},window.showConsole=function(){"none"===$("#black-stuff").css("display")&&($("#black-stuff").show(),$("#console").css("height","33.5vh"),$("#editor-wrap").css("height","65vh"),refreshHeights(),editor.refresh())};

},{}],"/home/andy/Desktop/production/cs-bin/src/save.js":[function(require,module,exports){
module.exports=function(e){var o=window.location.pathname;$("#save").on("click",function(r){localStorage.setItem(o,e.getValue()),alert("Progress saved.")});var r=localStorage.getItem(o);r&&replaceEditorText(r),$("#clear").on("click",function(e){confirm("Are you sure? This will remove saved progress.")&&(localStorage.removeItem(o),replaceEditorText($("#code-editor").val()))})};

},{}]},{},["/home/andy/Desktop/production/cs-bin/src/repl.js"])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvaG9tZS9hbmR5L0Rlc2t0b3AvcHJvZHVjdGlvbi9jcy1iaW4vc3JjL2V4ZWMuanMiLCIvaG9tZS9hbmR5L0Rlc2t0b3AvcHJvZHVjdGlvbi9jcy1iaW4vc3JjL3JlcGwuanMiLCIvaG9tZS9hbmR5L0Rlc2t0b3AvcHJvZHVjdGlvbi9jcy1iaW4vc3JjL3Jlc2l6ZS5qcyIsIi9ob21lL2FuZHkvRGVza3RvcC9wcm9kdWN0aW9uL2NzLWJpbi9zcmMvc2F2ZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBLEFBeURBLE1BekRNLENBQUMsQ0F5REUsTUF6REssRUF5REUsQ0F6REMsS0F5REssR0FBTyxFQXpESCxRQXlERyxDQXpETSxFQUFFLEtBeURSLEdBQUEsU0FBQSxVQUFBLE1BQUcsVUFBQSxFQUU1QixHQURrQixnQkFBVCxHQUNGLEtBQUssVUFBVSxFQUFNLEtBQU0sR0FFM0IsT0FBTyxHQUloQixFQUFPLEVBQUssUUFDViwwQkFDQSwyRUFHRSxFQUFRLFFBQ1YsRUFBSSxNQUFTLEdBQ1gsRUFBUSxRQUNWLEVBQUksdUJBQTBCLEVBQUksV0FDaEMsRUFBUSxVQUNWLEVBQU8sRUFBSyxRQUFRLElBQUcsUUFBVSxFQUFRLFFBQU8sUUFDbEQsRUFBRSxvQkFBb0IsT0FBTSxNQUFPLEVBQUksT0FHdkMsSUFBSSxHQUFhLFNBQVMsZUFBZSxVQUN6QyxHQUFXLFVBQVksRUFBVyxhQUdwQyxRQUFTLE1BQUssR0FDWixFQUFFLGdCQUNGLElBQUksTUFBTyxFQUFFLEVBQUUsUUFBUSxLQUFLLFNBQVMsS0FDckMsY0FBYSxRQUFRLE1BQ3JCLGFBQWUsYUFBYSxNQUFNLEVBQUcsR0FDckMsYUFBZSxHQUNmLGNBQWMsV0FJWixHQUhBLEVBQUUsRUFBRSxRQUFRLEtBQUssU0FBUyxJQUFJLElBRzFCLEtBQUssTUFBTSxPQUFRLE1BQU8s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RU5DLENBQUMsQ0FBQyxFSFFFLENDRkMsQ0FBQyxFQUFFLENBQUMsQ0RFQyxJQUFJLENBQUMsQ0FBQyxDQ0ZDLEVBQUUsSURFSSxLQUFLLEVBQUUsQ0NGTCxDREVPO0FDRC9CLEFDSEYsR0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENER0MsQ0FBQyxPQUFPLEFDSEEsQ0RHQyxBQ0hBLENER0M7QURFbEIsQUNESixBQ0hBLEFDSEYsTUFBSSxFREdFLEVBQUUsQ0RHQyxBRU5BLEVER0UsQ0RHQyxBRU5BLE1IT00sRUFBRSxDQUFDLENDREMsQ0FBQyxDRU5DLENBQUMsT0FBTyxDQUFDLEVGTUUsRUFBRSxBRU5BLENBQUMsQ0FBQyxDRk1DLENBQUMsQ0FBQztBRUwxQyxHRk1DLENBQUMsQ0FBQyxDRU5DLENIT0MsSUdQSSxFSE9FLEFHUEE7QUhRTCxBRUpKLEFDSEEsUURHSSxFQUFFLEtGSUssTUdQTSxDQUFDLEVER1osQ0FBQyxFQUFJLEFDSFksQ0FBQyxDQUFDLE1IT00sQ0FBQztBQ0FsQyxBQ0hJLEdDSEgsR0ZNRyxDRENDLEdDREcsQUNIQSxHREdHLEdDSEcsR0FBRyxDREdDLEFDSEEsQ0RHQyxBQ0hBLE1BQU0sQ0FBQyxDREdDLENBQUMsQ0FBQyxFQ0hFLENBQUMsR0FBRyxDQUFDO0FESXBDLE1BQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztBREVULEFHUEosQ0ZPRCxDQUFDLENFUEMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0hPQyxHQUFHLEdHUEcsQ0hPQyxDQUFDLEFHUEEsR0hPRyxDQUFDLE1HUEosQ0FBQyxFQUFJLEdIT1csQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQy9ELEFFSkEsQUNIRixRQUFJLEVESUEsS0NKTyxDQUFDLENESUQsQ0ZHRyxBRUhGLEdGR0ssR0VIQyxDRkdHLEFFSEYsQ0ZHRyxFRUhBLENGR0csQ0FBQyxDQUFDLENBQUMsRUFBRSxDRUhELENBQUMsVUZHWSxDQUFDLENBQUMsQUVIRixDQUFDLEdBQ3ZDLE1BQU0sQ0FBQyxLQ0xpRCxDQUFDLEVBQUUsR0RLekMsR0FBRyxFQUFFLEVBQ3ZCLE9BQU87QUZFVCxBQ0FOLEFFUE0sSUZPRixHREFHLENBQUMsTUNBTSxHQUFHLENFUEMsQ0ZPQyxBRVBBLENGT0MsU0RBUyxBR1BBLENIT0MsQUdQQSxDSE9DLEdBQUcsQUdQQSxDSE9DLEFHUEEsQ0FBQyxXSE9XLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztBRUF6RCxBQ05BLEtIT0QsQ0FBQyxDQUFDLEdFREcsSUFBSSxHQUFHLElBQUksQ0FBQyxDQ05DLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7QUZRakQsQUNETSxHRkNILENBQUMsQ0FBQyxBR1BBLElGT0ksQ0NEQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElEQ0ksQ0NEQyxFRENFLENDREMsRUFBRTtBREUzQixBQ0RNLEdDTkwsQ0FBQyxDQUFDLElGT0ksS0NESyxHQUFHLEVEQ0UsQ0FBQyxHQ0RHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FGRS9CLEFFRE0sQ0RDUCxBRU5BLENBQUEsU0hNVSxDRURDLEdBQUcsR0ZDRyxDRURDLENBQUMsQ0ZDQztBQUNqQixLQUFDLENBQUMsQ0VEQyxpQkZDaUIsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO0FBQzlCLEFDQUosQUNETSxPQUFDLENGQ0MsQUVEQSxDRENDLEtEQUssR0FBRyxDQ0FDLENBQUMsR0NERyxDQUFDLENBQUMsRUZDRSxBQ0FBLENDREMsQ0ZDQyxBQ0FBLEFDREEsQ0ZDQyxHQ0FHLEVBQUUsRUNERSxJRENJLEVBQUUsTUNESSxZQUFZLFNBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxTQUFJLE1BQU0sT0FBSSxDQUFDO0FGRWhGLEFDQUYsQUNESSxNRENBLENBQUMsQUNEQSxDRkNDLEFFREEsS0ZDSyxDQ0FDLEVEQUUsQUNBQSxFQ0RFLENBQUMsQ0FBQyxFRkNFLEFDQUEsQ0RBQyxBRURBLENGQ0MsQUVEQSxDRkNDLENBQUMsQUNBQSxLQUFLLENBQUMsQUNEQSxZQUFVLGFB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LE1ET00sTURKTSxFRUhFLENGR0MsQUVIQSxDRE9DLEFDUEEsQ0ZHQyxDQUFDLENDSUMsQUNQQSxDQUFDLE1ET00sQ0FBQyxDQ1BDLEVBQUUsSURPSSxHQ1BHLENET0MsQUNQQSxDQUFDLElET0ksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QURIL0QsQUNJTSxBQ1BKLElGR0UsRUVIRSxJRE9JLE1ESk0sQ0NJQyxFREpFLENBQUMsQUNJQSxDREpDLENBQUMsS0NJSyxDQUFDLFVBQVUsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLHVCQUF1QixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUNQMUUsVUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO0FGS3pCLEFDSU0sR0NUcUIsQ0FBQyxLRktuQixFRUx5QixHQUFHLENGS3RCLEFDSUEsQ0RKQyxBQ0lBLEFDVHVCLEVBQUUsRUZLckIsRUFBYyxDQ0lYLEVBQUUsVUFBVSxDQUFDLENBQUM7Q0NScEMsQ0FBQSxHRFNJLENETGlCLE9BQU8seURBQUMsRUFBRTtHQ003QixDQUFDLE9BQU8sR0FBRyxFQUFFO0FETGQsQUNNRSxBQ1RKLE1GR00sQUVIQSxDQUFDLE1GR00sQUNNQSxDQUFDLEdETkcsQUNNQSxDQUFDLEFDVEEsR0FBRyxDRkdDLE1DTU0sRURORSxBQ01BLEVETkUsQ0NNQyxBQ1RELENEU0UsV0FBVyxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztBREx2RCxBRUhGLEdEU0MsR0NURyxDQUFDLENGR0MsQUVIQSxHRkdHLElBQUksQ0FBQyxNRUhNLENBQUMsQ0FBQyxDRkdDLENBQUMsQ0VIQyxDQUFDLEVGR0UsRUFBRSxJQUFJLENFSEMsQ0ZHQyxBRUhBLENGR0MsQ0FBQyxDQUFDLEVFSEUsTUFBTSxFQUFFLE9BQU87QUFDeEQsQ0RVRCxFRFBFLEFFSEEsQ0FBQyxLRkdLLFNFSFMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFBO0FGSXRCLEFFSEYsR0FBQyxDQUFDLElGR0ksR0FBRyxHRUhHLENBQUMsQ0FBQyxD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QUNGLENBQUMsQ0FBQztDQUNKOzs7QUFHRCxTQUFTLGFBQWEsQ0FBQyxJQUFJLEVBQUU7QUFDM0IsU0FBTyxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDO0FBQ2hDLFNBQU8sQ0FBQyxHQUFHLEdBQUcsWUFBVztBQUN2QixNQUFFLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsVUFBQSxJQUFJLEVBQUk7QUFDakMsWUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2QsQ0FBQyxDQUFDO0FBQ0gsV0FBTyxDQUFDLFNBQVMsTUFBQSxDQUFqQixPQUFPLEVBQWMsU0FBUyxDQUFDLENBQUM7R0FDakMsQ0FBQTtBQUNELE1BQUksRUFBRSxDQUFDO0FBQ1AsU0FBTyxDQUFDLEdBQUcsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO0NBQ2pDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaGFzRXJyb3JzKSB7XG4gICQoZG9jdW1lbnQpLnJlYWR5KCgpID0+IHtcblxuICAgICQoJyNjb25zb2xlIGZvcm0nKS5vbignc3VibWl0JywgcmVwbCk7XG4gICAgJCgnI2NvbnNvbGUnKS5vbignY2xpY2snLCBlID0+IHtcbiAgICAgICQoJ2lucHV0JykuZm9jdXMoKTtcbiAgICB9KTtcbiAgICAkKCcjZXhlY3V0ZScpLm9uKCdjbGljaycsIGV4ZWN1dGUpO1xuICAgICQod2luZG93KS5vbigna2V5cHJlc3MnLCBlID0+IHtcbiAgICAgIGUuY3RybEtleSAmJiBlLmtleUNvZGUgJiYgZXhlY3V0ZSgpICYmIHNob3dDb25zb2xlKCk7ICAgLy9leGVjdXRlIGlmIHRoZXkgcHJlc3MgY3RybCtiIGluIGNocm9tZVxuICAgIH0pO1xuXG4gICAgJCgnI2NvbnNvbGUgZm9ybScpLm9uKCdrZXlkb3duJywgZSA9PiB7XG4gICAgICBpZiAoZS5rZXlDb2RlID09PSAzOCkgeyAgLy91cCBhcnJvdyBrZXlcbiAgICAgICAgY29tbWFuZEluZGV4Kys7XG4gICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gNDApIHsgIC8vZG93biBhcnJvdyBrZXlcbiAgICAgICAgY29tbWFuZEluZGV4LS07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ3dlIGNhbiBpZ25vcmUgdGhpcyc7XG4gICAgICB9XG4gICAgICAvLyBtYWtlIHN1cmUgY29tbWFuZEluZGV4IHN0YXlzIGluIHJlYXNvbmFibGUgcmFuZ2VcbiAgICAgIGNvbW1hbmRJbmRleCA9IE1hdGgubWluKGNvbW1hbmRTdGFjay5sZW5ndGggLSAxLCBjb21tYW5kSW5kZXgpO1xuICAgICAgY29tbWFuZEluZGV4ID0gTWF0aC5tYXgoLTEsIGNvbW1hbmRJbmRleCk7XG4gICAgICAkKCcjY29uc29sZSBmb3JtIGlucHV0JykudmFsKGNvbW1hbmRTdGFja1tjb21tYW5kSW5kZXhdKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZXhlY3V0ZSgpIHtcbiAgICAkKCcjY29uc29sZSAjb3V0cHV0JykuZW1wdHkoKTtcbiAgICB2YXIgZXJyb3JzID0gaGFzRXJyb3JzKCk7XG4gICAgdmFyIGVycm9yID0gZXJyb3JzWzBdO1xuICAgIGlmIChlcnJvcil7XG4gICAgICByZXR1cm4gcmVuZGVyKFxuICAgICAgICBlcnJvci5ub2RlLmlubmVyVGV4dCB8fCAkKGVycm9yLm5vZGUpLnRleHQoKSwgICAgLy8gY2hyb21lIHx8IGZpcmVmb3hcbiAgICAgICAgeyBlcnJvcjogdHJ1ZSwgbGluZU51bTogZWRpdG9yLmdldExpbmVOdW1iZXIoZXJyb3IubGluZSkgKyAxIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgdmFyIGNvZGUgPSBlZGl0b3IuZ2V0VmFsdWUoKTtcblxuICAgIHdyYXBMb2dPdXRwdXQoKCkgPT4ge1xuXG4gICAgICBldmFsKGNvZGUpO1xuXG4gICAgICAkKCcjY29uc29sZSBmb3JtJykub2ZmKCdzdWJtaXQnKTtcbiAgICAgICQoJyNjb25zb2xlIGZvcm0nKS5vbignc3VibWl0JywgZXZhbCgnKCcrU3RyaW5nKHJlcGwpKycpJykpO1xuICAgICAgLy8gdGhpcyBldmFsL1N0cmluZyB0aGluZyBpcyBwcmV0dHkgd2VpcmQgcmlnaHQ/IEl0J3MgYmFzaWNhbGx5IGEgaGFjayB0aGF0IFJvYiBhbmQgSSBkZXZpc2VkIHRvIFwiY2xvbmVcIiBhIGZ1bmN0aW9uLiBJdCB0YWtlcyBhIGZ1bmMsIGNvbnZlcnRzIHRvIGEgc3RyaW5nLCB0aGVuIHJlZGVmaW5lcyBpdCBpbiBhbiBldmFsLiBUaGlzIGVmZmVjdGl2ZWx5IGFjaGlldmVzIGR5bmFtaWMgc2NvcGluZy4gQnkgcmVkZWZpbmluZyBpdCBpbiB0aGlzIHNjb3BlLCBJIGNhbiBhY2Nlc3MgdGhlIGxvY2FsIHZhcmlhYmxlcyBoZXJlIGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgbGV4aWNhbCBzY29waW5nIGJlaGF2aW9yLiBUaGUgcmVhc29uIEkgd2FudCB0aGlzIGlzIHNvIHRoZSByZXBsIGhhcyBhY2Nlc3MgdG8gdGhlIHZhcmlhYmxlcyBkZWZpbmVkIGluIHRoZSBDb2RlTWlycm9yIGVkaXRvci5cblxuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbi8vIGFsbG93IHVzZXIgdG8gYWNjZXNzIHByZXZpb3VzbHkgZW50ZXJlZCBjb21tYW5kc1xudmFyIGNvbW1hbmRTdGFjayA9IFtdO1xudmFyIGNvbW1hbmRJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiByZW5kZXIodGV4dCwgb3B0aW9ucz17fSkge1xuICBpZiAodHlwZW9mIHRleHQgPT09ICdvYmplY3QnKSB7XG4gICAgdGV4dCA9IEpTT04uc3RyaW5naWZ5KHRleHQsIG51bGwsIDQpO1xuICB9IGVsc2Uge1xuICAgIHRleHQgPSBTdHJpbmcodGV4dCk7XG4gIH1cblxuICAvLyBUaGlzIHBhcnRpY3VsYXIgZXJyIG1lc3NhZ2UgaXMgcG9vci4gTWFrZSBpdCBhIGJpdCBtb3JlIGhlbHBmdWxcbiAgdGV4dCA9IHRleHQucmVwbGFjZShcbiAgICAvVW5leHBlY3RlZCBlbmQgb2YgaW5wdXQvLCBcbiAgICAnVW5leHBlY3RlZCBlbmQgb2YgaW5wdXQ6IHByb2JhYmx5IGFuIGV4dHJhIG9wZW5pbmcgYnJhY2tldCBvciBvcGVyYXRvci4nXG4gICk7XG5cbiAgaWYgKG9wdGlvbnMuYXJyb3cpXG4gICAgdGV4dCA9IGA9PiAke3RleHR9YDtcbiAgaWYgKG9wdGlvbnMuZXJyb3IpXG4gICAgdGV4dCA9IGA8c3BhbiBjbGFzcz1cImVycm9yXCI+JHt0ZXh0fTwvc3Bhbj5gO1xuICBpZiAob3B0aW9ucy5saW5lTnVtKVxuICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoLyEvLCBgbGluZSAke29wdGlvbnMubGluZU51bX0gLSBgKTtcbiAgJCgnI2NvbnNvbGUgI291dHB1dCcpLmFwcGVuZChgPHA+JHt0ZXh0fTwvcD5gKTtcblxuICAvLyBzY3JvbGwgdG8gYm90dG9tIGluIG9yZGVyIHRvIHNob3cgbW9zdCByZWNlbnRcbiAgdmFyIGNvbnNvbGVET00gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uc29sZScpO1xuICBjb25zb2xlRE9NLnNjcm9sbFRvcCA9IGNvbnNvbGVET00uc2Nyb2xsSGVpZ2h0O1xufVxuXG5mdW5jdGlvbiByZXBsKGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB2YXIgY29kZSA9ICQoZS50YXJnZXQpLmZpbmQoJ2lucHV0JykudmFsKCk7XG4gIGNvbW1hbmRTdGFjay51bnNoaWZ0KGNvZGUpO1xuICBjb21tYW5kU3RhY2sgPSBjb21tYW5kU3RhY2suc2xpY2UoMCwgOSk7XG4gIGNvbW1hbmRJbmRleCA9IC0xO1xuICB3cmFwTG9nT3V0cHV0KCgpID0+IHtcbiAgICAkKGUudGFyZ2V0KS5maW5kKCdpbnB1dCcpLnZhbCgnJyk7XG5cbiAgICAvL3ZhciBkZWNsYXJhdGlvbnMgZG9uJ3Qgd29yayBpbiB0aGUgUkVQTCwgc28gZ2l2ZSB0aGVtIGFuIGVycm9yXG4gICAgaWYgKGNvZGUubWF0Y2goL3Zhci8pKSByZXR1cm4gcmVuZGVyKCdkbyB2YXIgZGVjbGFyYXRpb25zIGluIHRoZSBlZGl0b3IgYWJvdmUnLCB7IGVycm9yOiB0cnVlIH0pO1xuXG4gICAgdmFyIGV2YWxFcnI7XG4gICAgdmFyIHdyYXBwZWRDb2RlID0gYHRyeXsgJHtjb2RlfVxcbiB9IGNhdGNoKGVycikgeyBldmFsRXJyID0gZXJyIH1gO1xuICAgIHRyeSB7XG4gICAgICB2YXIgb3V0cHV0ID0gZXZhbCh3cmFwcGVkQ29kZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBldmFsRXJyID0gZXJyO1xuICAgIH1cbiAgICBpZiAoZXZhbEVycikge1xuICAgICAgcmVuZGVyKGV2YWxFcnIubWVzc2FnZSwgeyBlcnJvcjogdHJ1ZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVuZGVyKG91dHB1dCwgeyBhcnJvdzogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBleGVjdXRlcyBhIGZ1bmN0aW9uIGluIGEgY29udGV4dCB3aGVyZSBhbGwgY2FsbHMgdG8gY29uc29sZS5sb2cgd2lsbCByZW5kZXIgdG8gdGhlIERPTVxuZnVuY3Rpb24gd3JhcExvZ091dHB1dChmdW5jKSB7XG4gIGNvbnNvbGUubmF0aXZlTG9nID0gY29uc29sZS5sb2c7XG4gIGNvbnNvbGUubG9nID0gZnVuY3Rpb24oKSB7XG4gICAgW10uZm9yRWFjaC5jYWxsKGFyZ3VtZW50cywgbGluZSA9PiB7XG4gICAgICByZW5kZXIobGluZSk7XG4gICAgfSk7XG4gICAgY29uc29sZS5uYXRpdmVMb2coLi4uYXJndW1lbnRzKTtcbiAgfVxuICBmdW5jKCk7XG4gIGNvbnNvbGUubG9nID0gY29uc29sZS5uYXRpdmVMb2c7XG59XG5cblxuXG5cbiIsIndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblxuICB3aW5kb3cuZWRpdG9yID0gQ29kZU1pcnJvci5mcm9tVGV4dEFyZWEoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb2RlLWVkaXRvclwiKSwge1xuICAgIGxpbmVOdW1iZXJzOiB0cnVlLFxuICAgIG1vZGU6IFwiamF2YXNjcmlwdFwiLFxuICAgIG1hdGNoQnJhY2tldHM6IHRydWUsXG4gICAgYXV0b0Nsb3NlQnJhY2tldHM6IHRydWUsXG4gICAga2V5TWFwOiAnc3VibGltZScsXG4gICAgdGFiU2l6ZTogMixcbiAgICB0aGVtZTogJ3R0Y24nXG4gIH0pO1xuXG4gIHZhciB3YWl0aW5nO1xuICBlZGl0b3Iub24oXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgIGNsZWFyVGltZW91dCh3YWl0aW5nKTtcbiAgICB3YWl0aW5nID0gc2V0VGltZW91dCh1cGRhdGVFcnJvcnMsIDgwMCk7XG4gIH0pO1xuXG4gIHZhciBzYXZlID0gcmVxdWlyZSgnLi9zYXZlJyk7XG4gIHNhdmUoZWRpdG9yKTtcblxufTtcblxudmFyIGVycldpZGdldHMgPSBbXTtcblxuZnVuY3Rpb24gY2hlY2tGb3JFcnJvcnMoKSB7XG4gIHJldHVybiBlcnJXaWRnZXRzO1xufVxuXG5mdW5jdGlvbiByZW5kZXJFcnIobGluZU51bSwgZGVzYywgY29sTnVtKSB7XG4gIGlmICghbGluZU51bSkgdGhyb3cgbmV3IEVycm9yKCdMaW5lIG51bWJlciBmb3IgcmVuZGVyRXJyIG11c3QgYmUgYSB2YWxpZCBpbnRlZ2VyLicpO1xuICB2YXIgbXNnID0gJChgXG4gICAgPGRpdiBjbGFzcz1cImxpbnQtZXJyb3JcIj5cbiAgICAgIDxzcGFuIGNsYXNzPVwibGludC1lcnJvci1pY29uXCI+ITwvc3Bhbj5cbiAgICAgICR7ZGVzY31cbiAgICA8L2Rpdj5cbiAgYClbMF07XG4gIGVycldpZGdldHMucHVzaChcbiAgICBlZGl0b3IuYWRkTGluZVdpZGdldChsaW5lTnVtIC0gMSwgbXNnLCB7IGNvdmVyR3V0dGVyOiBmYWxzZSwgbm9IU2Nyb2xsOiB0cnVlIH0pXG4gICk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUVycm9ycygpIHtcbiAgdmFyIGNvZGUgPSBlZGl0b3IuZ2V0VmFsdWUoKTtcblxuICBlcnJXaWRnZXRzLmZvckVhY2goZXJyID0+IHtcbiAgICBlZGl0b3IucmVtb3ZlTGluZVdpZGdldChlcnIpO1xuICB9KTtcbiAgZXJyV2lkZ2V0cyA9IFtdO1xuXG4gIHRyeSB7XG4gICAgdmFyIHN5bnRheCA9IGVzcHJpbWEucGFyc2UoY29kZSwgeyB0b2xlcmFudDogZmFsc2UsIGxvYzogdHJ1ZSB9KTtcbiAgICB2YXIgZXZhbEVycjtcbiAgICB2YXIgd3JhcHBlZENvZGUgPSBgdHJ5eyAke2NvZGV9XFxuIH0gY2F0Y2goZXJyKSB7IGV2YWxFcnIgPSBlcnIgfWA7XG5cbiAgICBldmFsKHdyYXBwZWRDb2RlKTtcbiAgICBpZiAoZXZhbEVycikge1xuICAgICAgdmFyIHN0YWNrID0gZXZhbEVyci5zdGFjaztcbiAgICAgIHZhciBlcnJNZXNzYWdlID0gZXZhbEVyci5tZXNzYWdlIHx8IHN0YWNrLm1hdGNoKC8uKi8pWzBdOyAgICAgLy8gZmlyZWZveCB8fCBjaHJvbWVcbiAgICAgIHZhciBsaW5lTnVtID0gZXZhbEVyci5saW5lTnVtYmVyIHx8IHN0YWNrLm1hdGNoKC88YW5vbnltb3VzPjooXFxkKyk6XFxkKy8pWzFdO1xuICAgICAgLy8gdmFyIGNvbE51bSA9IGV2YWxFcnIuY29sdW1uTnVtYmVyIHx8IHN0YWNrLm1hdGNoKC88YW5vbnltb3VzPjpcXGQrOihcXGQrKS8pWzBdO1xuICAgICAgcmVuZGVyRXJyKGxpbmVOdW0sIGVyck1lc3NhZ2UpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmVuZGVyRXJyKGVyci5saW5lTnVtYmVyLCBlcnIuZGVzY3JpcHRpb24sIGVyci5jb2x1bW4pO1xuICB9XG5cbn1cblxud2luZG93LnJlcGxhY2VFZGl0b3JUZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICBlZGl0b3IucmVwbGFjZVJhbmdlKFxuICAgIHRleHQsXG4gICAgQ29kZU1pcnJvci5Qb3MoZWRpdG9yLmZpcnN0TGluZSgpLTEpLFxuICAgIENvZGVNaXJyb3IuUG9zKGVkaXRvci5sYXN0TGluZSgpKVxuICApO1xufVxuXG52YXIgZXhlY3V0ZSA9IHJlcXVpcmUoJy4vZXhlYycpO1xuZXhlY3V0ZShjaGVja0ZvckVycm9ycyk7XG5yZXF1aXJlKCcuL3Jlc2l6ZScpOyIsInZhciByZWZyZXNoSGVpZ2h0cywgZWRpdG9ySGVpZ2h0LCBjb25zb2xlSGVpZ2h0O1xuXG4kKGRvY3VtZW50KS5yZWFkeShlID0+IHtcblxuICBlZGl0b3JIZWlnaHQgPSAkKCcjZWRpdG9yLXdyYXAnKS5jc3MoJ2hlaWdodCcpO1xuICBjb25zb2xlSGVpZ2h0ID0gJCgnI2NvbnNvbGUnKS5jc3MoJ2hlaWdodCcpO1xuICByZWZyZXNoSGVpZ2h0cyA9IGZ1bmN0aW9uKCkge1xuICAgIGVkaXRvckhlaWdodCA9ICQoJyNlZGl0b3Itd3JhcCcpLmNzcygnaGVpZ2h0Jyk7XG4gICAgY29uc29sZUhlaWdodCA9ICQoJyNjb25zb2xlJykuY3NzKCdoZWlnaHQnKTsgICAgXG4gIH1cblxuICAkKCcucmVzaXplJykuZHJhZ2dhYmxlKHtcbiAgICBheGlzOiAneScsXG4gICAgXG4gICAgZHJhZzogZSA9PiB7XG4gICAgICB2YXIgY2hhbmdlID0gZS50YXJnZXQuc3R5bGUudG9wO1xuXG4gICAgICAvLyBwcmV2ZW50IHRoZW0gZnJvbSByZXNpemluZyBiZWxvdyB0aGUgYm90dG9tIG9mIHRoZSBwYWdlXG4gICAgICBpZiAoXG4gICAgICAgIHB4VG9OdW0oY2hhbmdlKSArIHB4VG9OdW0oZWRpdG9ySGVpZ2h0KSA+IFxuICAgICAgICB3aW5kb3cuaW5uZXJIZWlnaHQgLSA1MFxuICAgICAgKSByZXR1cm47XG5cbiAgICAgIHZhciBvcGVyID0gJystJztcbiAgICAgIGlmIChjaGFuZ2VbMF0gPT09ICctJykge1xuICAgICAgICBjaGFuZ2UgPSBjaGFuZ2Uuc2xpY2UoMSk7XG4gICAgICAgIG9wZXIgPSAnLSsnO1xuICAgICAgfVxuICAgICAgJCgnI2VkaXRvci13cmFwJykuY3NzKCdoZWlnaHQnLCBgY2FsYygke2VkaXRvckhlaWdodH0gJHtvcGVyWzBdfSAke2NoYW5nZX0pYCk7XG4gICAgICAkKCcjY29uc29sZScpLmNzcygnaGVpZ2h0JywgYGNhbGMoJHtjb25zb2xlSGVpZ2h0fSAke29wZXJbMV19ICR7Y2hhbmdlfSlgKTtcbiAgICB9LFxuXG4gICAgc3RvcDogZSA9PiB7XG4gICAgICByZWZyZXNoSGVpZ2h0cygpO1xuICAgICAgZS50YXJnZXQuc3R5bGUudG9wID0gMDtcbiAgICAgIGVkaXRvci5yZWZyZXNoKCk7XG4gICAgfVxuICB9KTtcblxuICBoaWRlQ29uc29sZSgpO1xuICAkKCcjZXhlY3V0ZScpLm9uKCdjbGljaycsIHNob3dDb25zb2xlKTtcbiAgJCgnI2Nsb3NlJykub24oJ2NsaWNrJywgaGlkZUNvbnNvbGUpO1xuXG59KTtcblxuZnVuY3Rpb24gcHhUb051bShzdHIpIHtcbiAgcmV0dXJuICtzdHIuc2xpY2UoMCwgLTIpO1xufVxuXG53aW5kb3cuaGlkZUNvbnNvbGUgPSBmdW5jdGlvbigpIHtcbiAgJCgnI2JsYWNrLXN0dWZmJykuaGlkZSgpO1xuICAkKCcjZWRpdG9yLXdyYXAnKS5jc3MoJ2hlaWdodCcsICcxMDB2aCcpO1xuICB0cnkgeyBlZGl0b3IucmVmcmVzaCgpOyB9IGNhdGNoKGVycikge31cbn1cblxud2luZG93LnNob3dDb25zb2xlID0gZnVuY3Rpb24oKSB7XG4gIGlmICgkKCcjYmxhY2stc3R1ZmYnKS5jc3MoJ2Rpc3BsYXknKSAhPT0gJ25vbmUnKSByZXR1cm47XG4gICQoJyNibGFjay1zdHVmZicpLnNob3coKVxuICAkKCcjY29uc29sZScpLmNzcygnaGVpZ2h0JywgJzMzLjV2aCcpO1xuICAkKCcjZWRpdG9yLXdyYXAnKS5jc3MoJ2hlaWdodCcsICc2NXZoJyk7XG4gIHJlZnJlc2hIZWlnaHRzKCk7XG4gIGVkaXRvci5yZWZyZXNoKCk7XG59IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihlZGl0b3IpIHtcblxuICB2YXIgcGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcblxuICAkKCcjc2F2ZScpLm9uKCdjbGljaycsIGUgPT4ge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHBhdGgsIGVkaXRvci5nZXRWYWx1ZSgpKTtcbiAgICBhbGVydCgnUHJvZ3Jlc3Mgc2F2ZWQuJylcbiAgfSk7XG5cbiAgdmFyIHNhdmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0ocGF0aCk7XG4gIGlmIChzYXZlZCkge1xuICAgIHJlcGxhY2VFZGl0b3JUZXh0KHNhdmVkKTtcbiAgfVxuXG4gICQoJyNjbGVhcicpLm9uKCdjbGljaycsIGUgPT4ge1xuICAgIGlmIChjb25maXJtKCdBcmUgeW91IHN1cmU/IFRoaXMgd2lsbCByZW1vdmUgc2F2ZWQgcHJvZ3Jlc3MuJykpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHBhdGgpO1xuICAgICAgcmVwbGFjZUVkaXRvclRleHQoJCgnI2NvZGUtZWRpdG9yJykudmFsKCkpO1xuICAgIH1cbiAgfSk7XG5cbn0iXX0=
