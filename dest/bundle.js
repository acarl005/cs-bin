(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"/home/andy/Desktop/production/cs-bin/src/exec.js":[function(require,module,exports){
function render(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];e="object"==typeof e?JSON.stringify(e,null,4):String(e),e=e.replace(/Unexpected end of input/,"Unexpected end of input: make sure your brackets match"),o.arrow&&(e="=> "+e),o.error&&(e='<span class="error">'+e+"</span>"),$("#console #output").append("<p>"+e+"</p>");var n=document.getElementById("console");n.scrollTop=n.scrollHeight}function repl(e){e.preventDefault();var code=$(e.target).find("input").val();commandStack.unshift(code),commandStack=commandStack.slice(0,9),commandIndex=-1,wrapLogOutput(function(){$(e.target).find("input").val("");var evalErr,wrappedCode="try{ "+code+"\n } catch(err) { evalErr = err }";try{var output=eval(wrappedCode)}catch(err){evalErr=err}evalErr?render(evalErr.message,{error:!0}):render(output,{arrow:!0})})}function wrapLogOutput(e){console.nativeLog=console.log,console.log=function(){[].forEach.call(arguments,function(e){render(e)}),console.nativeLog.apply(console,arguments)},e(),console.log=console.nativeLog}module.exports=function(hasErrors){function execute(){$("#console #output").empty();var errors=hasErrors();if(errors[0])return render(errors[0].node.innerText,{error:!0});var code=editor.getValue();wrapLogOutput(function(){eval(code),$("#console form").off("submit"),$("#console form").on("submit",eval("("+String(repl)+")"))})}$(document).ready(function(){$("#console form").on("submit",repl),$("#execute").on("click",execute),$(window).on("keypress",function(e){e.ctrlKey&&e.keyCode&&execute()}),$("#console form").on("keydown",function(e){if(38===e.keyCode)commandIndex++;else{if(40!==e.keyCode)return"we can ignore this";commandIndex--}commandIndex=Math.min(commandStack.length-1,commandIndex),commandIndex=Math.max(-1,commandIndex),$("#console form input").val(commandStack[commandIndex])})})};var commandStack=[],commandIndex=-1;

},{}],"/home/andy/Desktop/production/cs-bin/src/repl.js":[function(require,module,exports){
function checkForErrors(){return errWidgets}function renderErr(r,e,o){var t=$('\n    <div class="lint-error">\n      <span class="lint-error-icon">!</span>\n      '+e+"\n    </div>\n  ")[0];errWidgets.push(editor.addLineWidget(r-1,t,{coverGutter:!1,noHScroll:!0}))}function updateErrors(){var code=editor.getValue();errWidgets.forEach(function(r){editor.removeLineWidget(r)}),errWidgets=[];try{var syntax=esprima.parse(code,{tolerant:!0,loc:!0}),evalErr,wrappedCode="try{ "+code+"\n } catch(err) { evalErr = err }";eval(wrappedCode),evalErr&&renderErr(evalErr.lineNumber,evalErr.message,evalErr.columnNumber)}catch(err){renderErr(err.lineNumber,err.description,err.column)}}window.onload=function(){window.editor=CodeMirror.fromTextArea(document.getElementById("code-editor"),{lineNumbers:!0,mode:"javascript",matchBrackets:!0,autoCloseBrackets:!0,keyMap:"sublime",tabSize:2,theme:"ttcn"});var r;editor.on("change",function(){clearTimeout(r),r=setTimeout(updateErrors,800)});var e=require("./save");e(editor)};var errWidgets=[];window.replaceEditorText=function(r){editor.replaceRange(r,CodeMirror.Pos(editor.firstLine()-1),CodeMirror.Pos(editor.lastLine()))};var execute=require("./exec");execute(checkForErrors);

},{"./exec":"/home/andy/Desktop/production/cs-bin/src/exec.js","./save":"/home/andy/Desktop/production/cs-bin/src/save.js"}],"/home/andy/Desktop/production/cs-bin/src/save.js":[function(require,module,exports){
module.exports=function(e){var o=window.location.pathname;$("#save").on("click",function(a){localStorage.setItem(o,e.getValue()),alert("Progress saved.")});var a=localStorage.getItem(o);a&&replaceEditorText(a),$("#clear").on("click",function(e){confirm("Are you sure? This will remove saved progress.")&&(localStorage.removeItem(o),window.location.reload())})};

},{}]},{},["/home/andy/Desktop/production/cs-bin/src/repl.js"])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvaG9tZS9hbmR5L0Rlc2t0b3AvcHJvZHVjdGlvbi9jcy1iaW4vc3JjL2V4ZWMuanMiLCIvaG9tZS9hbmR5L0Rlc2t0b3AvcHJvZHVjdGlvbi9jcy1iaW4vc3JjL3JlcGwuanMiLCIvaG9tZS9hbmR5L0Rlc2t0b3AvcHJvZHVjdGlvbi9jcy1iaW4vc3JjL3NhdmUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxBQWtEQSxNQWxETSxDQUFDLENBa0RFLE1BbERLLEVBa0RFLENBbERDLEtBa0RLLEdBQU8sRUFsREgsUUFrREcsQ0FsRE0sRUFBRSxLQWtEUixHQUFBLFNBQUEsVUFBQSxNQUFHLFVBQUEsRUFFNUIsR0FEa0IsZ0JBQVQsR0FDRixLQUFLLFVBQVUsRUFBTSxLQUFNLEdBRTNCLE9BQU8sR0FJaEIsRUFBTyxFQUFLLFFBQVEsMEJBQTJCLDBEQUUzQyxFQUFRLFFBQ1YsRUFBSSxNQUFTLEdBQ1gsRUFBUSxRQUNWLEVBQUksdUJBQTBCLEVBQUksV0FDcEMsRUFBRSxvQkFBb0IsT0FBTSxNQUFPLEVBQUksT0FHdkMsSUFBSSxHQUFhLFNBQVMsZUFBZSxVQUN6QyxHQUFXLFVBQVksRUFBVyxhQUdwQyxRQUFTLE1BQUssR0FDWixFQUFFLGdCQUNGLElBQUksTUFBTyxFQUFFLEVBQUUsUUFBUSxLQUFLLFNBQVMsS0FDckMsY0FBYSxRQUFRLE1BQ3JCLGFBQWUsYUFBYSxNQUFNLEVBQUcsR0FDckMsYUFBZSxHQUNmLGNBQWMsV0FDWixFQUFFLEVBQUUsUUFBUSxLQUFLLFNBQVMsSUFBSSxHQUM5QixJQUFJLFNBQ0EsWUFBVyxRQUFXLEtBQUksbUNBQzlCLEtBQ0UsR0FBSSxRQUFTLEtBQUssYUFDbEIsTUFBTyxLQUNQLFFBQVUsSUFFUixRQUVGLE9BQU8sUUFBUSxTQUFXLE9BQU8sSUFFakMsT0FBTyxRQUFVLE9BQU8sTUFN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QUFDLFlBQU07QUFDbEIsS0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ2xDLFFBQUksT0FBTyxDQUFDO0FBQ1osUUFBSSxXQUFXLGFBQVcsSUFBSSxzQ0FBbUMsQ0FBQztBQUNsRSxRQUFJO0FBQ0YsVUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0tBQ2hDLENBQUMsT0FBTyxHQUFHLEVBQUU7QUFDWixhQUFPLEdBQUcsR0FBRyxDQUFDO0tBQ2Y7QUFDRCxRQUFJLE9BQU8sRUFBRTs7QUFFWCxZQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0tBQzFDLE1BQU07QUFDTCxZQUFNLENBQUMsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7S0FDakM7R0FDRixDQUFDLENBQUM7Q0FDSjs7O0FBR0QsU0FBUyxhQUFhLENBQUMsSUFBSSxFQUFFO0FBQzNCLFNBQU8sQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQztBQUNoQyxTQUFPLENBQUMsR0FBRyxHQUFHLFlBQVc7QUFDdkIsTUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLFVBQUEsSUFBSSxFQUFJO0FBQ2pDLFlBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNkLENBQUMsQ0FBQztBQUNILFdBQU8sQ0FBQyxTQUFTLE1BQUEsQ0FBakIsT0FBTyxFQUFjLFNBQVMsQ0FBQyxDQUFDO0dBQ2pDLENBQUE7QUFDRCxNQUFJLEVBQUUsQ0FBQztBQUNQLFNBQU8sQ0FBQyxHQUFHLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQztDQUNqQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGhhc0Vycm9ycykge1xuICAkKGRvY3VtZW50KS5yZWFkeSgoKSA9PiB7XG5cbiAgICAkKCcjY29uc29sZSBmb3JtJykub24oJ3N1Ym1pdCcsIHJlcGwpO1xuICAgICQoJyNleGVjdXRlJykub24oJ2NsaWNrJywgZXhlY3V0ZSk7XG4gICAgJCh3aW5kb3cpLm9uKCdrZXlwcmVzcycsIGUgPT4ge1xuICAgICAgZS5jdHJsS2V5ICYmIGUua2V5Q29kZSAmJiBleGVjdXRlKCk7ICAgLy9leGVjdXRlIGlmIHRoZXkgcHJlc3MgY3RybCtiIGluIGNocm9tZVxuICAgIH0pO1xuXG4gICAgJCgnI2NvbnNvbGUgZm9ybScpLm9uKCdrZXlkb3duJywgZSA9PiB7XG4gICAgICBpZiAoZS5rZXlDb2RlID09PSAzOCkgeyAgLy91cCBhcnJvdyBrZXlcbiAgICAgICAgY29tbWFuZEluZGV4Kys7XG4gICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gNDApIHsgIC8vZG93biBhcnJvdyBrZXlcbiAgICAgICAgY29tbWFuZEluZGV4LS07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ3dlIGNhbiBpZ25vcmUgdGhpcyc7XG4gICAgICB9XG4gICAgICAvLyBtYWtlIHN1cmUgY29tbWFuZEluZGV4IHN0YXlzIGluIHJlYXNvbmFibGUgcmFuZ2VcbiAgICAgIGNvbW1hbmRJbmRleCA9IE1hdGgubWluKGNvbW1hbmRTdGFjay5sZW5ndGggLSAxLCBjb21tYW5kSW5kZXgpO1xuICAgICAgY29tbWFuZEluZGV4ID0gTWF0aC5tYXgoLTEsIGNvbW1hbmRJbmRleCk7XG4gICAgICAkKCcjY29uc29sZSBmb3JtIGlucHV0JykudmFsKGNvbW1hbmRTdGFja1tjb21tYW5kSW5kZXhdKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZXhlY3V0ZSgpIHtcbiAgICAkKCcjY29uc29sZSAjb3V0cHV0JykuZW1wdHkoKTtcbiAgICB2YXIgZXJyb3JzID0gaGFzRXJyb3JzKCk7XG5cbiAgICBpZiAoZXJyb3JzWzBdKVxuICAgICAgcmV0dXJuIHJlbmRlcihlcnJvcnNbMF0ubm9kZS5pbm5lclRleHQsIHsgZXJyb3I6IHRydWUgfSk7XG5cbiAgICB2YXIgY29kZSA9IGVkaXRvci5nZXRWYWx1ZSgpO1xuXG4gICAgd3JhcExvZ091dHB1dCgoKSA9PiB7XG5cbiAgICAgIGV2YWwoY29kZSk7XG5cbiAgICAgICQoJyNjb25zb2xlIGZvcm0nKS5vZmYoJ3N1Ym1pdCcpO1xuICAgICAgJCgnI2NvbnNvbGUgZm9ybScpLm9uKCdzdWJtaXQnLCBldmFsKCcoJytTdHJpbmcocmVwbCkrJyknKSk7XG4gICAgICAvLyB0aGlzIGV2YWwvU3RyaW5nIHRoaW5nIGlzIHByZXR0eSB3ZWlyZCByaWdodD8gSXQncyBiYXNpY2FsbHkgYSBoYWNrIHRoYXQgUm9iIGFuZCBJIGRldmlzZWQgdG8gXCJjbG9uZVwiIGEgZnVuY3Rpb24uIEl0IHRha2VzIGEgZnVuYywgY29udmVydHMgdG8gYSBzdHJpbmcsIHRoZW4gcmVkZWZpbmVzIGl0IGluIGFuIGV2YWwuIFRoaXMgZWZmZWN0aXZlbHkgYWNoaWV2ZXMgZHluYW1pYyBzY29waW5nLiBCeSByZWRlZmluaW5nIGl0IGluIHRoaXMgc2NvcGUsIEkgY2FuIGFjY2VzcyB0aGUgbG9jYWwgdmFyaWFibGVzIGhlcmUgaW5zdGVhZCBvZiB0aGUgZGVmYXVsdCBsZXhpY2FsIHNjb3BpbmcgYmVoYXZpb3IuIFRoZSByZWFzb24gSSB3YW50IHRoaXMgaXMgc28gdGhlIHJlcGwgaGFzIGFjY2VzcyB0byB0aGUgdmFyaWFibGVzIGRlZmluZWQgaW4gdGhlIENvZGVNaXJyb3IgZWRpdG9yLlxuXG4gICAgfSk7XG5cbiAgfVxufVxuXG4vLyBhbGxvdyB1c2VyIHRvIGFjY2VzcyBwcmV2aW91c2x5IGVudGVyZWQgY29tbWFuZHNcbnZhciBjb21tYW5kU3RhY2sgPSBbXTtcbnZhciBjb21tYW5kSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gcmVuZGVyKHRleHQsIG9wdGlvbnM9e30pIHtcbiAgaWYgKHR5cGVvZiB0ZXh0ID09PSAnb2JqZWN0Jykge1xuICAgIHRleHQgPSBKU09OLnN0cmluZ2lmeSh0ZXh0LCBudWxsLCA0KTtcbiAgfSBlbHNlIHtcbiAgICB0ZXh0ID0gU3RyaW5nKHRleHQpO1xuICB9XG5cbiAgLy8gVGhpcyBwYXJ0aWN1bGFyIGVyciBtZXNzYWdlIGlzIHBvb3IuIE1ha2UgaXQgYSBiaXQgbW9yZSBoZWxwZnVsXG4gIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1VuZXhwZWN0ZWQgZW5kIG9mIGlucHV0LywgJ1VuZXhwZWN0ZWQgZW5kIG9mIGlucHV0OiBtYWtlIHN1cmUgeW91ciBicmFja2V0cyBtYXRjaCcpXG5cbiAgaWYgKG9wdGlvbnMuYXJyb3cpXG4gICAgdGV4dCA9IGA9PiAke3RleHR9YDtcbiAgaWYgKG9wdGlvbnMuZXJyb3IpXG4gICAgdGV4dCA9IGA8c3BhbiBjbGFzcz1cImVycm9yXCI+JHt0ZXh0fTwvc3Bhbj5gO1xuICAkKCcjY29uc29sZSAjb3V0cHV0JykuYXBwZW5kKGA8cD4ke3RleHR9PC9wPmApO1xuXG4gIC8vIHNjcm9sbCB0byBib3R0b20gaW4gb3JkZXIgdG8gc2hvdyBtb3N0IHJlY2VudFxuICB2YXIgY29uc29sZURPTSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25zb2xlJyk7XG4gIGNvbnNvbGVET00uc2Nyb2xsVG9wID0gY29uc29sZURPTS5zY3JvbGxIZWlnaHQ7XG59XG5cbmZ1bmN0aW9uIHJlcGwoZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIHZhciBjb2RlID0gJChlLnRhcmdldCkuZmluZCgnaW5wdXQnKS52YWwoKTtcbiAgY29tbWFuZFN0YWNrLnVuc2hpZnQoY29kZSk7XG4gIGNvbW1hbmRTdGFjayA9IGNvbW1hbmRTdGFjay5zbGljZSgwLCA5KTtcbiAgY29tbWFuZEluZGV4ID0gLTE7XG4gIHdyYXBMb2dPdXRwdXQoKCkgPT4ge1xuICAgICQoZS50YXJnZXQpLmZpbmQoJ2lucHV0JykudmFsKCcnKTtcbiAgICB2YXIgZXZhbEVycjtcbiAgICB2YXIgd3JhcHBlZENvZGUgPSBgdHJ5eyAke2NvZGV9XFxuIH0gY2F0Y2goZXJyKSB7IGV2YWxFcnIgPSBlcnIgfWA7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBvdXRwdXQgPSBldmFsKHdyYXBwZWRDb2RlKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGV2YWxFcnIgPSBlcnI7XG4gICAgfVxuICAgIGlmIChldmFsRXJyKSB7XG5cbiAgICAgIHJlbmRlcihldmFsRXJyLm1lc3NhZ2UsIHsgZXJyb3I6IHRydWUgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbmRlcihvdXRwdXQsIHsgYXJyb3c6IHRydWUgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gZXhlY3V0ZXMgYSBmdW5jdGlvbiBpbiBhIGNvbnRleHQgd2hlcmUgYWxsIGNhbGxzIHRvIGNvbnNvbGUubG9nIHdpbGwgcmVuZGVyIHRvIHRoZSBET01cbmZ1bmN0aW9uIHdyYXBMb2dPdXRwdXQoZnVuYykge1xuICBjb25zb2xlLm5hdGl2ZUxvZyA9IGNvbnNvbGUubG9nO1xuICBjb25zb2xlLmxvZyA9IGZ1bmN0aW9uKCkge1xuICAgIFtdLmZvckVhY2guY2FsbChhcmd1bWVudHMsIGxpbmUgPT4ge1xuICAgICAgcmVuZGVyKGxpbmUpO1xuICAgIH0pO1xuICAgIGNvbnNvbGUubmF0aXZlTG9nKC4uLmFyZ3VtZW50cyk7XG4gIH1cbiAgZnVuYygpO1xuICBjb25zb2xlLmxvZyA9IGNvbnNvbGUubmF0aXZlTG9nO1xufVxuXG5cblxuXG4iLCJ3aW5kb3cub25sb2FkID0gZnVuY3Rpb24oKSB7XG5cbiAgd2luZG93LmVkaXRvciA9IENvZGVNaXJyb3IuZnJvbVRleHRBcmVhKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29kZS1lZGl0b3JcIiksIHtcbiAgICBsaW5lTnVtYmVyczogdHJ1ZSxcbiAgICBtb2RlOiBcImphdmFzY3JpcHRcIixcbiAgICBtYXRjaEJyYWNrZXRzOiB0cnVlLFxuICAgIGF1dG9DbG9zZUJyYWNrZXRzOiB0cnVlLFxuICAgIGtleU1hcDogJ3N1YmxpbWUnLFxuICAgIHRhYlNpemU6IDIsXG4gICAgdGhlbWU6ICd0dGNuJ1xuICB9KTtcblxuICB2YXIgd2FpdGluZztcbiAgZWRpdG9yLm9uKFwiY2hhbmdlXCIsICgpID0+IHtcbiAgICBjbGVhclRpbWVvdXQod2FpdGluZyk7XG4gICAgd2FpdGluZyA9IHNldFRpbWVvdXQodXBkYXRlRXJyb3JzLCA4MDApO1xuICB9KTtcblxuICB2YXIgc2F2ZSA9IHJlcXVpcmUoJy4vc2F2ZScpO1xuICBzYXZlKGVkaXRvcik7XG5cbn07XG5cbnZhciBlcnJXaWRnZXRzID0gW107XG5cbmZ1bmN0aW9uIGNoZWNrRm9yRXJyb3JzKCkge1xuICByZXR1cm4gZXJyV2lkZ2V0cztcbn1cblxuZnVuY3Rpb24gcmVuZGVyRXJyKGxpbmVOdW0sIGRlc2MsIGNvbE51bSkge1xuICB2YXIgbXNnID0gJChgXG4gICAgPGRpdiBjbGFzcz1cImxpbnQtZXJyb3JcIj5cbiAgICAgIDxzcGFuIGNsYXNzPVwibGludC1lcnJvci1pY29uXCI+ITwvc3Bhbj5cbiAgICAgICR7ZGVzY31cbiAgICA8L2Rpdj5cbiAgYClbMF07XG4gIGVycldpZGdldHMucHVzaChcbiAgICBlZGl0b3IuYWRkTGluZVdpZGdldChsaW5lTnVtIC0gMSwgbXNnLCB7IGNvdmVyR3V0dGVyOiBmYWxzZSwgbm9IU2Nyb2xsOiB0cnVlIH0pXG4gICk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUVycm9ycygpIHtcbiAgdmFyIGNvZGUgPSBlZGl0b3IuZ2V0VmFsdWUoKTtcblxuICBlcnJXaWRnZXRzLmZvckVhY2goZXJyID0+IHtcbiAgICBlZGl0b3IucmVtb3ZlTGluZVdpZGdldChlcnIpO1xuICB9KTtcbiAgZXJyV2lkZ2V0cyA9IFtdO1xuXG4gIHRyeSB7XG4gICAgdmFyIHN5bnRheCA9IGVzcHJpbWEucGFyc2UoY29kZSwgeyB0b2xlcmFudDogdHJ1ZSwgbG9jOiB0cnVlIH0pO1xuICAgIHZhciBldmFsRXJyO1xuICAgIHZhciB3cmFwcGVkQ29kZSA9IGB0cnl7ICR7Y29kZX1cXG4gfSBjYXRjaChlcnIpIHsgZXZhbEVyciA9IGVyciB9YDtcblxuICAgIGV2YWwod3JhcHBlZENvZGUpO1xuICAgIGlmIChldmFsRXJyKSB7XG4gICAgICAvLyB2YXIgZXJyTWVzc2FnZSA9IGV2YWxFcnIubWF0Y2goLy4qLylbMF07XG4gICAgICAvLyB2YXIgW19fLCBsaW5lTnVtLCBjb2xOdW1dID0gZXZhbEVyci5tYXRjaCgvPGFub255bW91cz46KFxcZCspOihcXGQrKS8pO1xuICAgICAgcmVuZGVyRXJyKGV2YWxFcnIubGluZU51bWJlciwgZXZhbEVyci5tZXNzYWdlLCBldmFsRXJyLmNvbHVtbk51bWJlcik7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZW5kZXJFcnIoZXJyLmxpbmVOdW1iZXIsIGVyci5kZXNjcmlwdGlvbiwgZXJyLmNvbHVtbik7XG4gIH1cblxufVxuXG53aW5kb3cucmVwbGFjZUVkaXRvclRleHQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIGVkaXRvci5yZXBsYWNlUmFuZ2UoXG4gICAgdGV4dCxcbiAgICBDb2RlTWlycm9yLlBvcyhlZGl0b3IuZmlyc3RMaW5lKCktMSksXG4gICAgQ29kZU1pcnJvci5Qb3MoZWRpdG9yLmxhc3RMaW5lKCkpXG4gICk7XG59XG5cbnZhciBleGVjdXRlID0gcmVxdWlyZSgnLi9leGVjJyk7XG5leGVjdXRlKGNoZWNrRm9yRXJyb3JzKTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGVkaXRvcikge1xuXG4gIHZhciBwYXRoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xuXG4gICQoJyNzYXZlJykub24oJ2NsaWNrJywgZSA9PiB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0ocGF0aCwgZWRpdG9yLmdldFZhbHVlKCkpO1xuICAgIGFsZXJ0KCdQcm9ncmVzcyBzYXZlZC4nKVxuICB9KTtcblxuICB2YXIgc2F2ZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShwYXRoKTtcbiAgaWYgKHNhdmVkKSB7XG4gICAgcmVwbGFjZUVkaXRvclRleHQoc2F2ZWQpO1xuICB9XG5cbiAgJCgnI2NsZWFyJykub24oJ2NsaWNrJywgZSA9PiB7XG4gICAgaWYgKGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZT8gVGhpcyB3aWxsIHJlbW92ZSBzYXZlZCBwcm9ncmVzcy4nKSkge1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0ocGF0aCk7XG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgfVxuICB9KTtcblxufSJdfQ==
